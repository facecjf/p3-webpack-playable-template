<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="ad.orientation" content="portrait,landscape">
    <title>Phaser3 Webpack Playable Ads</title>
    <style type="text/css">
		html,
		body {
		  margin: 0;
		  padding: 0;
		  background-color: #000000;
		  overflow: hidden;
		}
		* {
		  height: 100vh; 
		  width: 100vw;
		  margin: 0 !important;
		  padding: 0 !important;
		}
	  </style>     
	<script src="mraid.js"></script>
	<script>
		// Define store URLs
		var userAgent = navigator.userAgent || navigator.vendor;
		var url = 'https://apps.apple.com/us/app/harry-potter-puzzles-spells/id1434505322'; // IOS
		var android = 'https://play.google.com/store/apps/details?id=com.zynga.pottermatch'; // ANDROID
		if (/android/i.test(userAgent)) {
			url = android;
		}
		
		// Error handling for MRAID
		window.onerror = function(message, source, lineno, colno, error) {
		    console.error('Error:', message, 'at', source, lineno, colno);
		    return true; // Prevents default error handling
		};
		
		// For testing in browser environments without MRAID
		if (typeof mraid === 'undefined') {
            window.mraid = {
              getState: function() { return 'ready'; },
              addEventListener: function(event, callback) { 
                if (event === 'ready' && callback) setTimeout(callback, 10); 
              },
              isViewable: function() { return true; },
              open: function(url) { 
                console.log('MRAID.open:', url); 
                window.open(url, '_blank');
              }
            };
            console.log('Created mock MRAID for testing');
        } else {
            // Log MRAID state to help with debugging
            console.log('Initial MRAID state:', mraid.getState());
        }
	</script>
</head>
<body>
<script defer="defer">
	// P3 SCRIPT HERE
</script>
</body>
</html>
